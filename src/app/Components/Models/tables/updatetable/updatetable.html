<div class="universal-form-wrapper">
  <div class="app-form">
    <form [formGroup]="formgroup" (ngSubmit)="submit()">
      <div *ngIf="apiMessage" 
       [ngClass]="{'alert': true, 'success': apiMessageType==='success', 'error': apiMessageType==='error'}"
       style="margin: 0 auto 20px; text-align: center;">
      {{ apiMessage }}
      </div>

      <div class="form-header">
        <i class="bi bi-chat-dots"></i>
        <h3>تعديل الطاولة</h3>
      </div>

      <div class="form-group">
        <label for="1">رقم الطاولة</label>
        <input 
          id="1" 
          type="text" 
          class="form-control" 
          placeholder="أدخل رقم الطاولة" 
          formControlName="TableNumber"
        />
        <div *ngIf="TableNumber?.touched && TableNumber?.invalid" class="error">
          <small *ngIf="TableNumber?.errors?.['pattern']">يسمح فقط بالأحرف أو الأرقام.</small>
        </div>
      </div>

      <div class="form-group">
        <label for="2">السعة</label>
        <input 
          id="2" 
          type="text" 
          class="form-control" 
          placeholder="أدخل السعة" 
          formControlName="Capacity"
        />
        <div *ngIf="Capacity?.touched && Capacity?.invalid" class="error">
          <small *ngIf="Capacity?.errors?.['pattern']">يسمح فقط بالأرقام.</small>
        </div>
      </div>

      <div class="form-group">
        <label for="3">المكان</label>
        <select id="3" formControlName="Location" class="form-control">
          <option value="" disabled selected>--اختر--</option> 
          <option value="{{locations}}" *ngFor="let locations of location">{{locations}}</option>
        </select>
        <div *ngIf="Location?.touched && Location?.invalid" class="error">
        </div>
      </div>

      <div class="form-group">
        <label for="4">صورة الطاولة</label>
        <input
          id="4"
          type="file"
          class="form-control" 
          placeholder="اختر الصورة"
          formControlName="TableImage?"
          (change)="onFileSelected($event)"
        />
        <div *ngIf="TableImage?.touched && TableImage?.invalid" class="error">
        </div>
      </div>

      <button type="submit" class="btn-submit">تعديل الطاولة</button>
    </form>
  </div>
</div>
